<Page class="page"
    navigatingTo="onNavigatingTo"  
    loaded="onLoaded"
    xmlns="http://schemas.nativescript.org/tns.xsd"
    actionBarHidden="true">

    <ActionBar
        class="action-bar">
        <Label 
            class="action-bar-title" 
            text="TrueID"></Label>
    </ActionBar>

    <ScrollView>
        <GridLayout row="auto, *, auto" col="*">

            <WebView row="0" col="0" height="0" id="webView" />
            
            <ActivityIndicator row="1" col="0"
                height="40" width="40"
                visibility="{{ !loaded ? 'visible' : 'collapsed' }}" 
                busy="true" />

            <Label visibility="{{ (loaded && !idCard.fullName) ? 'visible' : 'collapsed' }}" 
                row="0" col="0" fontSize="18" padding="20" class="text-muted" 
                text="You don't have any ID cards yet. Please visit an issuer to get ID card." textWrap="true"/>

            <StackLayout class="p-20" row="1" col="0" visibility="{{ loaded ? 'visible' : 'collapsed' }}" >  

                <StackLayout visibility="{{ loaded && idCard.fullName ? 'visible' : 'collapsed' }}">
                    <Label text="{{ 'Name: ' + idCard.fullName }}" />
                    <Label text="{{ 'Gender: ' + idCard.gender }}" />
                    <Label text="{{ 'Birthdate: ' + idCard.birthdate }}" />
                    <Label text="{{ 'Address: ' + idCard.contactAddress }}" />
                    <Label text="{{ 'Country: ' + idCard.country }}" />
                    <Label text="{{ 'Father Name: ' + idCard.fatherName }}" />
                    <Label text="{{ 'Mother Name: ' + idCard.motherName }}" />
                </StackLayout>

                <Label 
                    class="fa text-center" textWrap="true"
                    text="{{ 'Your address:\n' + (address || '') }}" fontSize="18"
                    verticalAlignment="center" />

                <Image id="qrCode" />

                <StackLayout>

                </StackLayout>

                <Button text="logout" tap="onLogout" class="btn btn-primary" />

            </StackLayout>

        </GridLayout>
    </ScrollView>
</Page>
